# ===============================================================================
# OMNI MCP HUB - CONFIGURATION EXAMPLE
# Configuration for CLAUDE.md profile management and external MCP server integration
# ===============================================================================

# ===============================================================================
# 1. PROFILE AUTO-LOADING (Optional)
# ===============================================================================
# Automatically load CLAUDE.md profiles when the server starts
# autoLoad:
#   profiles:
#     - name: "default"
#       path: "./CLAUDE.md"
#       autoApply: true
#     - name: "code-reviewer"
#       path: "./profiles/code-reviewer.md"
#       autoApply: false

# ===============================================================================
# 2. FILE SCANNING SETTINGS (Optional)
# ===============================================================================
# Control how the server discovers and processes CLAUDE.md files
# fileSettings:
#   # File name patterns for different types of configuration files
#   configFiles:
#     claude: "CLAUDE.md"        # Standard CLAUDE.md files
#     behavior: "*-behavior.md"  # Behavior files like pirate-behavior.md  
#     custom: "*-config.md"      # Custom config files
#   
#   # Directories to scan for configuration files
#   includePaths:
#     - "./configs/"
#     - "./profiles/"
#   
#   # Patterns to exclude from scanning
#   excludePatterns:
#     - "*.tmp"
#     - "*.backup"
#     - "*~"
#     - ".git/**"
#     - "node_modules/**"
#     - "dist/**"
#   
#   # Allowed file extensions
#   allowedExtensions:
#     - ".md"
#     - ".markdown"
#     - ".txt"

# ===============================================================================
# 3. DIRECTORY SCANNING BEHAVIOR (Optional)
# ===============================================================================
# directoryScanning:
#   recursive: true        # Scan subdirectories recursively
#   maxDepth: 3           # Maximum directory depth to scan
#   includeHidden: false  # Include hidden files/directories
#   followSymlinks: false # Follow symbolic links

# ===============================================================================
# 4. PROFILE MANAGEMENT (Optional)
# ===============================================================================
# profileManagement:
#   allowDuplicateNames: false    # Allow profiles with same name
#   autoNamePattern: "%filename%" # Pattern for auto-generating profile names
#   defaultProfile: "default"     # Default profile name

# ===============================================================================
# 5. LOGGING CONFIGURATION (Optional)
# ===============================================================================
# logging:
#   level: "info"                    # Log level: debug, info, warn, error
#   verboseFileLoading: true         # Show detailed file loading messages
#   verboseProfileSwitching: false   # Show profile switching messages

# ===============================================================================
# 6. EXTERNAL MCP SERVERS (Required for MCP integrations)
# ===============================================================================
externalServers:
  enabled: true
  # autoConnect: true    # Automatically connect to servers on startup
  
  # Connection retry settings (optional)
  # retry:
  #   maxAttempts: 3
  #   delayMs: 1000
  
  servers:
    # Essential: File system operations
    - name: "filesystem"
      command: "npx"
      args: ["-y", "@modelcontextprotocol/server-filesystem", "."]
      description: "Local file system operations"
    
    # Optional: Additional MCP servers (uncomment as needed)
    
    # - name: "git"
    #   command: "npx"
    #   args: ["-y", "@modelcontextprotocol/server-git", "--repository", "."]
    #   description: "Git repository operations"
    
    # - name: "postgres"
    #   command: "npx" 
    #   args: ["-y", "@modelcontextprotocol/server-postgres", "postgresql://localhost/mydb"]
    #   description: "PostgreSQL database operations"
    #   env:
    #     DATABASE_URL: "postgresql://localhost/mydb"
    
    # - name: "sqlite"
    #   command: "npx"
    #   args: ["-y", "@modelcontextprotocol/server-sqlite", "/path/to/database.db"]
    #   description: "SQLite database operations"

# ===============================================================================
# QUICK START EXAMPLES
# ===============================================================================

# Minimal setup (just works):
# externalServers:
#   enabled: true
#   servers:
#     - name: "filesystem"
#       command: "npx"
#       args: ["-y", "@modelcontextprotocol/server-filesystem", "."]

# Development setup (auto-load profiles + verbose logging):
# autoLoad:
#   profiles:
#     - name: "dev"
#       path: "./dev-profile.md"
#       autoApply: true
# logging:
#   level: "debug"
#   verboseFileLoading: true
# externalServers:
#   enabled: true
#   servers:
#     - name: "filesystem"
#       command: "npx"
#       args: ["-y", "@modelcontextprotocol/server-filesystem", "."]

# Multi-server setup:
# externalServers:
#   enabled: true
#   servers:
#     - name: "filesystem"
#       command: "npx"
#       args: ["-y", "@modelcontextprotocol/server-filesystem", "."]
#     - name: "git"
#       command: "npx"
#       args: ["-y", "@modelcontextprotocol/server-git", "--repository", "."]
#     - name: "postgres"
#       command: "npx"
#       args: ["-y", "@modelcontextprotocol/server-postgres", "postgresql://localhost/mydb"]

# ===============================================================================
# NOTES
# ===============================================================================
# - This server runs over MCP protocol (stdio), not HTTP
# - No authentication is implemented (runs as local process)
# - Configuration is focused on CLAUDE.md management and MCP server proxying
# - For production deployments, consider wrapping with authentication layer
# - Server name and version are hardcoded in the application
# ===============================================================================